# MySQL

#### mysql 为什么做主从

    
1、做数据的热备，作为后备数据库，主数据库服务器故障后，可切换到从数据库继续工作，避免数据丢失。

2、架构的扩展。业务量越来越大，I/O访问频率过高，单机无法满足，此时做多库的存储，降低磁盘I/O访问的频率，提高单个机器的I/O性能。

3、读写分离，使数据库能支撑更大的并发。在报表中尤其重要。由于部分报表sql语句非常的慢，导致锁表，影响前台服务。如果前台使用master，报表使用slave，那么报表sql将不会造成前台锁，保证了前台速度。

#### 主从复制原理

三个工作线程

1. 主 (binlog线程)——记录下所有改变了数据库数据的语句，放进master上的binlog中；

2. 从 (io线程)——在使用start slave 之后，负责从master上拉取 binlog 内容，放进 自己的relay log中；

3. 从 (sql执行线程)——执行relay log中的语句；

























