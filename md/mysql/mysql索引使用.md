# MySQL

## 索引使用规则

#####  join 连接

    left join（左连接）：右表创建索引。
    
    right join（右连接）：左表创建索引。
    
    简记：左右外连接，索引相反建（left：右表建，right：左表建）。

#####  最佳左前缀法则 

    最佳左前缀法则就是说如果创建了多个索引，在使用索引时要按照创建索引的顺序来使用，
    不能缺少或跳过，当然如果只使用最左边的索引列，也就是第一个索引是可以的，
    通俗理解：“带头大哥不能死，中间兄弟不能断”。要点：“头不能掉

#####   不要在索引列上做任何操作

    在索引列上做任何操作（计算、函数、（自动or手动）类型转换），会导致索引失效从而转向全表扫描

#####   尽量使用覆盖索引

    查询列和索引列尽量一致，通俗说就是对A、B列创建了索引，然后查询中也使用A、B列
    
##### 索引失效 case

    使用不等于（！=或<>）会使索引失效
    
    is null 或 is not null也无法使用索引
    
    ike通配符以%开头会使索引失效
    
    字符串不加单引号导致索引失效
    
    少用or，用or连接会使索引失效

总结

    总结
    ①全值匹配。
    
    ②最佳左前缀法则：带头大哥不能死，中间兄弟不能断；带头大哥可跑路，老二也可跟着跑，其余兄弟只能死。
    
    ③索引列上不计算。
    
    ④覆盖索引记住用。
    
    ⑤不等于、is null、is not null导致索引失效。
    
    ⑥like百分加右边，加左边导致索引失效，解决方法：使用覆盖索引。
    
    ⑦字符串不加单引号导致索引失效。
    
    ⑧少用or，用or导致索引失效。    


#### in和exists  （小表驱动大表法则）

    in后面跟的是小表，exists后面跟的是大表。
    
    简记：in小，exists大。





















